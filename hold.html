<!doctype html>
<html lang="en">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Hold Master</title>
<style>
  html,body {
    height:100%; margin:0;
    background: #888;
  }
  
  svg { width:100vw; height:100vh; display:block; }
  
  /* Congratulations message styling */
  .congrats-text {
    fill: #fff;
    font-family: "EB Garamond", serif;
    font-weight: 700;
    text-anchor: start;
    dominant-baseline: hanging;
  }
  
  /* Expand animation for DOT, DASH, and HOLD */
  .expand {
    animation: expandEffect 0.4s ease-in-out;
  }
  
  /* Specific transform origins for each element */
  #dotElement.expand {
    transform-origin: 0px 40px; /* center of circle: cx=0, cy=40 */
  }
  
  #dotText.expand {
    transform-origin: 0px 55px; /* center of DOT text */
  }
  
  #dashElement.expand {
    transform-origin: 45px 39.5px; /* center of rect: x=35+width/2=45, y=37+height/2=39.5 */
  }
  
  #dashText.expand {
    transform-origin: 45px 55px; /* center of DASH text */
  }
  
  #holdElement.expand {
    transform-origin: 92.5px 39.5px; /* center of triangle: roughly x=92.5, y=39.5 */
  }
  
  #holdText.expand {
    transform-origin: 92.5px 55px; /* center of HOLD text */
  }
  
  @keyframes expandEffect {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
  } 
</style>
</head>
<body>
<svg viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet">
  
  <text x="-20" y="8"  
        font-size="6" 
        class="congrats-text">
    You are ready to learn some Morse Code!
  </text>
  
  <!-- Summary of learned skills -->

  
  <!-- DOT representation -->
  <circle id="dotElement" cx="0" cy="40" r="6" fill="#fff"/>
  <text id="dotText" x="-7" y="55" font-size="6" class="congrats-text" text-anchor="middle" dominant-baseline="central">DOT</text>
  
  <!-- DASH representation -->
  <rect id="dashElement" x="35" y="37" width="20" height="5" fill="#fff"/>
  <text id="dashText" x="37" y="55" font-size="6" class="congrats-text" text-anchor="middle" dominant-baseline="central">DASH</text>
  
  <!-- HOLD representation -->
  <polygon id="holdElement" points="80,42 105,42 105,37" fill="#fff"/>
  <text id="holdText" x="85" y="55" font-size="6" class="congrats-text" text-anchor="middle" dominant-baseline="central">HOLD</text>
  
  <text x="14" y="78" 
        font-size="6" 
        class="congrats-text delayed-text"
        id="longDashInstruction">
    HOLD to learn characters . . . 

  </text>
</svg>

<script>
  // Timing thresholds
  const DOT_THRESHOLD = 250;    // < 250ms = DOT
  const DASH_THRESHOLD = 1000;  // 250ms-1000ms = DASH
                                // >= 1000ms = HOLD
  
  let pressStartTime = 0;
  let navigating = false;
  
  // Get references to SVG elements (both logos and text)
  const dotElement = document.getElementById('dotElement');
  const dashElement = document.getElementById('dashElement');
  const holdElement = document.getElementById('holdElement');
  const dotText = document.getElementById('dotText');
  const dashText = document.getElementById('dashText');
  const holdText = document.getElementById('holdText');
  
  function expandElements(logoElement, textElement) {
    logoElement.classList.add('expand');
    textElement.classList.add('expand');
    setTimeout(() => {
      logoElement.classList.remove('expand');
      textElement.classList.remove('expand');
    }, 400);
  }
  
  function handlePress() {
    if (navigating) return;
    pressStartTime = Date.now();
  }
  
  function handleRelease() {
    if (navigating || pressStartTime === 0) return;
    
    const duration = Date.now() - pressStartTime;
    pressStartTime = 0;
    
    if (duration < DOT_THRESHOLD) {
      // DOT detected - expand the circle and text
      expandElements(dotElement, dotText);
    } else if (duration < DASH_THRESHOLD) {
      // DASH detected - expand the rectangle and text
      expandElements(dashElement, dashText);
    } else {
      // HOLD detected - expand the triangle and text
      expandElements(holdElement, holdText);
    }
  }
  
  // Add event listeners for mouse and touch
  document.addEventListener('mousedown', handlePress);
  document.addEventListener('mouseup', handleRelease);
  document.addEventListener('touchstart', handlePress);
  document.addEventListener('touchend', handleRelease);
  
  // Prevent context menu on long press
  document.addEventListener('contextmenu', (e) => e.preventDefault());
</script>
</body>
</html>